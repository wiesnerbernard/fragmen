#!/bin/sh

current_branch=$(git symbolic-ref --short HEAD 2>/dev/null)

if [ "$current_branch" = "main" ]; then
  echo "ğŸ” Pushing to main - running tests and lint..."
  
  echo "ğŸ”§ Linting..."
  pnpm run lint || exit 1
  
  echo "ğŸ§ª Testing..."
  pnpm run test || exit 1
  
  echo "âœ… All checks passed!"
fi
